<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.14: http://docutils.sourceforge.net/" />
<title>api.py</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<p>import configparser
import os, sys, moment
from requests import Session
from functools import wraps</p>
<p>from zeep import Client
from zeep.transports import Transport</p>
<p>from xmlmanip import XMLSchema</p>
<p>import xml.etree.ElementTree as ET</p>
<dl class="docutils">
<dt>class APITestFailError(BaseException):</dt>
<dd>pass</dd>
<dt>class ImproperlyConfigured(BaseException):</dt>
<dd>pass</dd>
<dt>class APICallError(BaseException):</dt>
<dd>pass</dd>
</dl>
<p>SECRETS_LOCATION = os.environ.get('ECHO_SECRETS_LOCATION')
SECRETS_LOCATION = os.path.abspath(SECRETS_LOCATION) if SECRETS_LOCATION else 'secrets.conf'</p>
<dl class="docutils">
<dt>def handle_response(method):</dt>
<dd><p class="first">&#64;wraps(method)
def _impl(self, <a href="#id1"><span class="problematic" id="id2">*</span></a>method_args, <a href="#id3"><span class="problematic" id="id4">**</span></a>method_kwargs):</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 30); <em><a href="#id2">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
<div class="system-message" id="id3">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 30); <em><a href="#id4">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 32)</p>
Unexpected indentation.</div>
<blockquote>
<p>response = method(self, <a href="#id5"><span class="problematic" id="id6">*</span></a>method_args, <a href="#id7"><span class="problematic" id="id8">**</span></a>method_kwargs)
if &quot;Error|&quot; in response:</p>
<div class="system-message" id="id5">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 32); <em><a href="#id6">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
<div class="system-message" id="id7">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 32); <em><a href="#id8">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 34)</p>
Unexpected indentation.</div>
<blockquote>
raise APICallError(response)</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 35)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>else:</dt>
<dd>return response</dd>
</dl>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 37)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p class="last">return _impl</p>
</dd>
</dl>
<p>class Settings:</p>
<blockquote>
<dl class="docutils">
<dt>def __init__(self, secrets_location=SECRETS_LOCATION):</dt>
<dd><p class="first">config = configparser.ConfigParser()
try:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 45)</p>
Unexpected indentation.</div>
<blockquote>
config.read(secrets_location)
self.USERNAME = config.get('echo', 'username')
self.PASSWORD = config.get('echo', 'password')
self.WSDL_LOCATION = config.get('echo', 'wsdl_location')
self.ENDPOINT = config.get('echo', 'endpoint')</blockquote>
<dl class="last docutils">
<dt>except configparser.NoSectionError:</dt>
<dd><dl class="first docutils">
<dt>sys.stdout.write(f'Region [echo] was not found in the configuration file. '</dt>
<dd>f'You must set the location to a configuration file using the environment variable '
f'ECHO_SECRETS_LOCATION or have a file named &quot;secrets.conf&quot;. Check the documentation'
f'for an example layout of this file.')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 56)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p class="last">self.USERNAME = ''
self.PASSWORD = ''
self.WSDL_LOCATION = ''
self.ENDPOINT = ''</p>
</dd>
</dl>
</dd>
</dl>
</blockquote>
<p>class BaseConnection:</p>
<blockquote>
<dl class="docutils">
<dt>def get_operations(self, key=&quot;&quot;):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">param key:</th><td class="field-body">key corresponding to stored procedure. If empty will show all stored procedures</td>
</tr>
<tr class="field"><th class="field-name">return:</th><td class="field-body">integer corresponding to stored procedure</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 69)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p>&quot;&quot;&quot;
operations = {</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 71)</p>
Unexpected indentation.</div>
<blockquote>
'add': 5,
'delete': 6,
'execute': 0</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 74)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>}
if not key:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 76)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>for key, procedure in operations.items():</dt>
<dd>print(f'{key}: {procedure}')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 78)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>return</p>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 79)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p class="last">return operations[key]</p>
</dd>
<dt>def API_SelectParameters(self, screen_name, name_space='Symed'):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2">param screen_name:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">(string) name of the screen</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param name_space:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">(string) namespace that the screen belongs to</td>
</tr>
<tr class="field"><th class="field-name">return:</th><td class="field-body">(string) usually a string in the form &#64;name|value|type, where the name is the parameter name, value is the value of the parameter and type specifies the type (int, string, bool, decimal). There may be multiple and not all values will be filled in. If there was an error, a string in the format “XXX|YYY” where XXX is a general description (Error, Denied, etc) and YYY is the specific description.</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 87)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p class="last">&quot;&quot;&quot;
return self.client.service.API_SelectParameters(self.session_id, screen_name, name_space)</p>
</dd>
<dt>def API_GeneralQuery(self, query, parameters=&quot;&quot;):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">param query:</th><td class="field-body">the SQL-style query to be run</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param parameters:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">optional set of parameters in form of &#64;name|value|type, where the name is the parameter name, value is the value of the parameter and type specifies the type (int, string, guid, decimal).</td>
</tr>
<tr class="field"><th class="field-name">return:</th><td class="field-body">usually XML with the requested results. If there was an error, a string in the format “XXX|YYY” where XXX is a general description (Error, Denied, etc) and YYY is the specific description.</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 96)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p class="last">&quot;&quot;&quot;
return self.client.service.API_GeneralQuery(self.session_id, query, parameters)</p>
</dd>
<dt>def API_GetData(self, screen_name, name_space, parameters):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2">param screen_name:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the session id returned from a login.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param name_space:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">name of the screen</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param parameters:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the parameters for the select statement. It is possible to get the names of the parameters from the API_SelectParameters function, the values will need to</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 105)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p class="last">be supplied by the programmer.
:return: usually the XML data. If there was an error, a string in the format “XXX|YYY” where XXX is a general description (Error, Denied, etc) and YYY is the specific description.
&quot;&quot;&quot;
return self.client.service.API_GetData(self.session_id, screen_name, name_space, parameters)</p>
</dd>
<dt>def API_UpdateData(self, tree_name, level_name, screen_name, name_space, parameters, dsXML):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2">param tree_name:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the name of tree (for providers, this is “Locations”)</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param level_name:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the name of the level (for providers, this is “Providers”)</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param screen_name:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">name of the screen.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param name_space:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the name space that the screen belongs to. Currently always “Symed”.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param parameters:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the parameters for the select statement. It is possible to get the names of the parameters from the API_SelectParameters function, the values will need to be supplied by the programmer.</td>
</tr>
<tr class="field"><th class="field-name">param dsXML:</th><td class="field-body">the XML data containing the updates.</td>
</tr>
<tr class="field"><th class="field-name">return:</th><td class="field-body">usually the XML data. If there was an error, a string in the format “XXX|YYY” where XXX is a general description (Error, Denied, etc) and YYY is the specific description.</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 120)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p>&quot;&quot;&quot;
return self.client.service.API_UpdateData(self.session_id, tree_name, level_name, screen_name, name_space,</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 122)</p>
Unexpected indentation.</div>
<blockquote class="last">
parameters, dsXML)</blockquote>
</dd>
<dt>def API_TreeDataCommand(self, tree_name, level_name, stored_proc, operation):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2">param tree_name:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the name of tree (for providers, this is “Locations”)</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param level_name:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the name of the level (for providers, this is “Providers”)</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param stored_proc:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the stored procedure that will perform the operation</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 130)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p class="last">(for adding providers, this is PhysicianDetail_Create)
:param operation: an integer that specifies the operation (0, 5 or 6) is (execute, add, delete). you can run self.get_operation() (self.get_operation('add') for example) to get the integer corresponding to your stored procedure.
:return: usually a string in the format of name|value|type where the name is the parameter name, value is the parameter value and type is the parameter type. If this format is returned, the parameter can be used directly with API_GetData to retrieve the newly added item. If there was an error, a string in the format “XXX|YYY” where XXX is a general description (Error, Denied, etc) and YYY is the specific description.
&quot;&quot;&quot;
return self.client.service.API_TreeDataCommand(self.session_id, tree_name, level_name, stored_proc, operation)</p>
</dd>
<dt>def API_CreateNoPenUser(self, email, body, subject, return_email, password, parameters, security_groups, send_mail):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">param email:</th><td class="field-body">the email address, this will also be the security login.</td>
</tr>
<tr class="field"><th class="field-name">param body:</th><td class="field-body">body of the email (usually a string built up of other information, like name, email and password.</td>
</tr>
<tr class="field"><th class="field-name">param subject:</th><td class="field-body">subject of the email.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param return_email:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the return email address for the email.</td>
</tr>
<tr class="field"><th class="field-name">param password:</th><td class="field-body">the password for the new user (not the API user password).</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param parameters:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">the parameters for the provider to add.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param security_groups:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">(list, string) contains a list (or string separated by vertical bars “|”) of security groups.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">param send_mail:</th></tr>
<tr class="field"><td>&nbsp;</td><td class="field-body">(bool) do we send the registration mail?</td>
</tr>
<tr class="field"><th class="field-name">return:</th><td class="field-body">a string in the format “XXX|YYY” where XXX is a general description (Error, Denied, Success, etc) and YYY is the specific description.</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 148)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p>&quot;&quot;&quot;
if issubclass(security_groups, list):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 150)</p>
Unexpected indentation.</div>
<blockquote>
security_groups = '|'.join(security_groups)</blockquote>
<dl class="last docutils">
<dt>return self.client.service.API_CreateNoPenUser(self.session_id, email, body, subject, return_email, password,</dt>
<dd>parameters, security_groups, send_mail)</dd>
</dl>
</dd>
<dt>def API_Login(self, username, password):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">param username:</th><td class="field-body">the base user name. No domain, actual login id, not the display name.</td>
</tr>
<tr class="field"><th class="field-name">param password:</th><td class="field-body">the password corresponding to the user name.</td>
</tr>
<tr class="field"><th class="field-name">return:</th><td class="field-body">if successful, a string containing the session id, in the format “SessionID|XXX” where XXX corresponds to the session id. If not successful, a string in the format “XXX|YYY” where XXX is a general description (Error, Denied, etc) and YYY is the specific description.</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 161)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p class="last">&quot;&quot;&quot;
return self.client.service.API_Login(username, password)</p>
</dd>
<dt>def API_Logout(self):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">return:</th><td class="field-body">a string in the format “XXX|YYY” where XXX is a general description (Success, Error, Denied, etc) and YYY is the specific description.</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 168)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p class="last">&quot;&quot;&quot;
return self.client.service.API_Logout(self.session_id)</p>
</dd>
<dt>def API_Test(self):</dt>
<dd><p class="first">&quot;&quot;&quot;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">return:</th><td class="field-body">&quot;Success|This message from WCF Service. You are connected!&quot; or some kind of connection error probably</td>
</tr>
</tbody>
</table>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 175)</p>
Field list ends without a blank line; unexpected unindent.</div>
<p class="last">&quot;&quot;&quot;
return self.client.service.API_Test()</p>
</dd>
<dt>def __init__(self, settings=Settings()):</dt>
<dd><p class="first">self.endpoint = settings.ENDPOINT
self.session = Session()
self.client = Client(settings.WSDL_LOCATION, transport=Transport(session=self.session))
if &quot;Success&quot; in self.client.service.API_Test():</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 183)</p>
Unexpected indentation.</div>
<blockquote>
self.session_id = self.client.service.API_Login(settings.USERNAME, settings.PASSWORD).split(&quot;|&quot;)[1]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 184)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="last docutils">
<dt>else:</dt>
<dd>raise APITestFailError(&quot;Test connection failed.&quot;)</dd>
</dl>
</dd>
</dl>
</blockquote>
<dl class="docutils">
<dt>class Helpers:</dt>
<dd><dl class="first docutils">
<dt>class Meta:</dt>
<dd>abstract = True</dd>
</dl>
<p>&quot;&quot;&quot;
Helper Methods
&quot;&quot;&quot;</p>
<dl class="docutils">
<dt>def _search_schema(self, schema_str, show_all=True, <a href="#id9"><span class="problematic" id="id10">**</span></a>kwarg):</dt>
<dd><div class="first system-message" id="id9">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 206); <em><a href="#id10">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<p>schema = XMLSchema(schema_str)
paths = schema.locate(<a href="#id11"><span class="problematic" id="id12">**</span></a>kwarg)
items = [schema.retrieve('__'.join(path.split('__')[:-1])) for path in paths]
kwarg_key = list(kwarg.keys())[0].split('__')[0]
try:</p>
<div class="system-message" id="id11">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 197); <em><a href="#id12">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 202)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>sorted_list = sorted(items, key=lambda x: int(x[kwarg_key])) if show_all else </dt>
<dd>sorted(items, key=lambda x: int(x[kwarg_key]))[-1]</dd>
</dl>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 204)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>except IndexError:  # happens when there are no results in the search</dt>
<dd>sorted_list = None</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 206)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p class="last">return sorted_list</p>
</dd>
</dl>
<p>&#64;handle_response
def _get_physician_guid(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 210)</p>
Unexpected indentation.</div>
<blockquote>
<p>qs = f&quot;SELECT * FROM PhysicianDetail WHERE PhysicianID={physician_id}&quot;
schema_str = self.API_GeneralQuery(qs, &quot;&quot;)
physician = self._search_schema(schema_str, show_all=False, PhysicianID__ne=-1)
if physician:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 214)</p>
Unexpected indentation.</div>
<blockquote>
return physician['EntityGuid']</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 215)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>else:</dt>
<dd>raise APICallError(f'No Physicians matching id {physician_id}')</dd>
</dl>
</blockquote>
<p>&#64;staticmethod
def _indent(elem, level=0):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 220)</p>
Unexpected indentation.</div>
<blockquote>
<p>i = f&quot;n{level*'  '}&quot;
if len(elem):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 222)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if not elem.text or not elem.text.strip():</dt>
<dd>elem.text = f&quot;{i} &quot;</dd>
<dt>if not elem.tail or not elem.tail.strip():</dt>
<dd>elem.tail = i</dd>
<dt>for elem in elem:</dt>
<dd>Helpers._indent(elem, level + 1)</dd>
<dt>if not elem.tail or not elem.tail.strip():</dt>
<dd>elem.tail = i</dd>
</dl>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 230)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>else:</dt>
<dd><dl class="first last docutils">
<dt>if level and (not elem.tail or not elem.tail.strip()):</dt>
<dd>elem.tail = i</dd>
</dl>
</dd>
</dl>
</blockquote>
<p>&#64;staticmethod
def _pretty_print(schema_str, <a href="#id13"><span class="problematic" id="id14">*</span></a>keys):</p>
<div class="system-message" id="id13">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 234); <em><a href="#id14">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 236)</p>
Unexpected indentation.</div>
<blockquote class="last">
<p>root = ET.fromstring(schema_str)
tree = ET.ElementTree(root)
Helpers._indent(root)
item = root
for key in keys:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 241)</p>
Unexpected indentation.</div>
<blockquote>
item = item[key]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 242)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>print(str(ET.tostring(item), 'utf-8'))</p>
</blockquote>
</dd>
<dt>class Adders:</dt>
<dd><dl class="first docutils">
<dt>class Meta:</dt>
<dd>abstract = True</dd>
</dl>
<p>&quot;&quot;&quot;
Add Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def add_physician(self, office_id, <a href="#id15"><span class="problematic" id="id16">**</span></a>kwargs):</p>
<div class="system-message" id="id15">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 253); <em><a href="#id16">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 255)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [&quot;Locations&quot;, &quot;Provider&quot;, &quot;PhysicianDetail_Create&quot;, 5, f&quot;&#64;OfficeID|{office_id}|int&quot;]
result = self.API_TreeDataCommand(<a href="#id17"><span class="problematic" id="id18">*</span></a>args)
if &quot;Error|&quot; in result:</p>
<div class="system-message" id="id17">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 255); <em><a href="#id18">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 258)</p>
Unexpected indentation.</div>
<blockquote>
raise APICallError(result)</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 259)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>else:</dt>
<dd><dl class="first last docutils">
<dt>if len(kwargs) != 0:</dt>
<dd><p class="first">physician_id = result.split(&quot;|&quot;)[1]
return self.edit_physician(physician_id, <a href="#id19"><span class="problematic" id="id20">**</span></a>kwargs)</p>
<div class="last system-message" id="id19">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 261); <em><a href="#id20">backlink</a></em></p>
Inline strong start-string without end-string.</div>
</dd>
<dt>else:</dt>
<dd>return result</dd>
</dl>
</dd>
</dl>
</blockquote>
<p>&#64;handle_response
def add_medical_license(self, physician_id, <a href="#id21"><span class="problematic" id="id22">**</span></a>kwargs):</p>
<div class="system-message" id="id21">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 266); <em><a href="#id22">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 268)</p>
Unexpected indentation.</div>
<blockquote>
<p>license_data = self.get_medical_licenses(physician_id)
schema_and_data = ET.fromstring(license_data)
for i, (key, value) in enumerate(kwargs.items()):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 271)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if i == 0:</dt>
<dd>new_table = ET.SubElement(schema_and_data[1], 'Table')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 273)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>new_attr = ET.SubElement(new_table, key)
new_attr.text = f'{value}'</p>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 275)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>updated_schema = ET.tostring(schema_and_data)
args = [&quot;Locations&quot;, &quot;Provider&quot;, &quot;MedicalLicenses&quot;, &quot;Symed&quot;,</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 277)</p>
Unexpected indentation.</div>
<blockquote>
<a class="reference external" href="mailto:f'&#64;PhysicianID|{physician_id}|int">f'&#64;PhysicianID|{physician_id}|int</a>', updated_schema]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 278)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>return self.API_UpdateData(<a href="#id23"><span class="problematic" id="id24">*</span></a>args)</p>
<div class="system-message" id="id23">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 278); <em><a href="#id24">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def add_contact_log_entry(self, physician_id, <a href="#id25"><span class="problematic" id="id26">**</span></a>kwargs):</p>
<div class="system-message" id="id25">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 280); <em><a href="#id26">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 282)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if 'Notes' not in kwargs.keys():</dt>
<dd>raise APICallError(f'You must add a note to contact log entries.')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 284)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>guid = self._get_physician_guid(physician_id)
log_data = self.get_contact_log(physician_id)
schema_and_data = ET.fromstring(log_data)
for i, (key, value) in enumerate(kwargs.items()):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 288)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if i == 0:</dt>
<dd>new_table = ET.SubElement(schema_and_data[1], 'Table')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 290)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>new_attr = ET.SubElement(new_table, key)
new_attr.text = f'{value}'</p>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 292)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>updated_schema = ET.tostring(schema_and_data)
Helpers._pretty_print(updated_schema, 1)
args = [&quot;Locations&quot;, &quot;Provider&quot;, &quot;CallLog&quot;, &quot;Symed&quot;,</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 295)</p>
Unexpected indentation.</div>
<blockquote>
<a class="reference external" href="mailto:f'&#64;EntityGuid|{guid}|guid">f'&#64;EntityGuid|{guid}|guid</a>', updated_schema]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 296)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>return self.API_UpdateData(<a href="#id27"><span class="problematic" id="id28">*</span></a>args)</p>
<div class="system-message" id="id27">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 296); <em><a href="#id28">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def add_office(self, practice_id=&quot;&quot;):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 300)</p>
Unexpected indentation.</div>
<blockquote class="last">
<dl class="docutils">
<dt>if not practice_id:</dt>
<dd>raise APICallError(&quot;You must provide a practice_id with which to associate this office.&quot;)</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 302)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>args = [&quot;Locations&quot;, &quot;Office&quot;, &quot;Offices_Create&quot;, 5, f&quot;&#64;PracticeID|{practice_id}|int&quot;]
return self.service.API_TreeDataCommand(<a href="#id29"><span class="problematic" id="id30">*</span></a>args)</p>
<div class="system-message" id="id29">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 302); <em><a href="#id30">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
</dd>
<dt>class Editors:</dt>
<dd><dl class="first docutils">
<dt>class Meta:</dt>
<dd>abstract = True</dd>
</dl>
<p>&quot;&quot;&quot;
Edit Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def edit_physician(self, physician_id, <a href="#id31"><span class="problematic" id="id32">**</span></a>kwargs):</p>
<div class="system-message" id="id31">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 314); <em><a href="#id32">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 316)</p>
Unexpected indentation.</div>
<blockquote class="last">
<p>physician = self.get_physician(physician_id)
schema_and_data = ET.fromstring(physician)
for key, value in kwargs.items():</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 319)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if schema_and_data[1][0].find(key) is None:</dt>
<dd>new_attr = ET.SubElement(schema_and_data[1][0], key)
new_attr.text = value</dd>
<dt>else:</dt>
<dd>schema_and_data[1][0].find(key).text = f'{value}'</dd>
</dl>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 324)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>updated_schema = ET.tostring(schema_and_data)
args = [&quot;Locations&quot;, &quot;Provider&quot;, &quot;PhysicianDetail&quot;,</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 326)</p>
Unexpected indentation.</div>
<blockquote>
&quot;Symed&quot;, f&quot;&#64;PhysicianID|{physician_id}|int&quot;, updated_schema]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 327)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>return self.API_UpdateData(<a href="#id33"><span class="problematic" id="id34">*</span></a>args)</p>
<div class="system-message" id="id33">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 327); <em><a href="#id34">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
</dd>
<dt>class Deleters:</dt>
<dd><dl class="first docutils">
<dt>class Meta:</dt>
<dd>abstract = True</dd>
</dl>
<p>&quot;&quot;&quot;
Delete Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def delete_physician(self, physician_id=&quot;&quot;, office_id=&quot;&quot;):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 340)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if not (physician_id and office_id):</dt>
<dd>raise APICallError(&quot;You must specify both the physician_id and office_id.&quot;)</dd>
<dt>args = [&quot;Locations&quot;, &quot;Provider&quot;, &quot;PhysicianDetail_Delete&quot;, 6,</dt>
<dd>f&quot;&#64;PhysicianID|{<a class="reference external" href="mailto:physician_id}|int&#64;OfficeID|{office_id}|int">physician_id}|int&#64;OfficeID|{office_id}|int</a>&quot;]</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 344)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>return self.API_TreeDataCommand(<a href="#id35"><span class="problematic" id="id36">*</span></a>args)</p>
<div class="system-message" id="id35">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 344); <em><a href="#id36">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def delete_office(self, office_id=&quot;&quot;):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 348)</p>
Unexpected indentation.</div>
<blockquote class="last">
<dl class="docutils">
<dt>if not office_id:</dt>
<dd>raise APICallError(&quot;You must specify the office_id.&quot;)</dd>
<dt>args = [&quot;Locations&quot;, &quot;Office&quot;, &quot;Offices_Delete&quot;, 6,</dt>
<dd>f&quot;&#64;OfficeID|{office_id}|int&quot;]</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 352)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>return self.API_TreeDataCommand(<a href="#id37"><span class="problematic" id="id38">*</span></a>args)</p>
<div class="system-message" id="id37">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 352); <em><a href="#id38">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
</dd>
<dt>class Getters:</dt>
<dd><dl class="first docutils">
<dt>class Meta:</dt>
<dd>abstract = True</dd>
</dl>
<p>&quot;&quot;&quot;
Get Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def get_physician(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 365)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [&quot;PhysicianDetail&quot;, &quot;Symed&quot;, f&quot;&#64;PhysicianID|{physician_id}|int&quot;]
return self.API_GetData(<a href="#id39"><span class="problematic" id="id40">*</span></a>args)</p>
<div class="system-message" id="id39">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 365); <em><a href="#id40">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def get_office(self, office_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 370)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [&quot;Office&quot;, &quot;Symed&quot;, f&quot;&#64;OfficeID|{office_id}|int&quot;]
return self.API_GetData(<a href="#id41"><span class="problematic" id="id42">*</span></a>args)</p>
<div class="system-message" id="id41">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 370); <em><a href="#id42">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def get_medical_licenses(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 375)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [&quot;MedicalLicenses&quot;, &quot;Symed&quot;, f&quot;&#64;PhysicianID|{physician_id}|int&quot;]
return self.API_GetData(<a href="#id43"><span class="problematic" id="id44">*</span></a>args)</p>
<div class="system-message" id="id43">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 375); <em><a href="#id44">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def get_contact_log(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 380)</p>
Unexpected indentation.</div>
<blockquote class="last">
<p>guid = self._get_physician_guid(physician_id)
args = [&quot;CallLog&quot;, &quot;Symed&quot;, <a class="reference external" href="mailto:f'&#64;EntityGuid|{guid}|guid">f'&#64;EntityGuid|{guid}|guid</a>']
return self.API_GetData(<a href="#id45"><span class="problematic" id="id46">*</span></a>args)</p>
<div class="system-message" id="id45">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 380); <em><a href="#id46">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
</dd>
<dt>class Showers:</dt>
<dd><dl class="first docutils">
<dt>class Meta:</dt>
<dd>abstract = True</dd>
</dl>
<p>&quot;&quot;&quot;
Show Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def show_physician(self, physician_id, show_all=True):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 395)</p>
Unexpected indentation.</div>
<blockquote>
schema_str = self.get_physician(physician_id)
return self._search_schema(schema_str, PhysicianID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_medical_licenses(self, physician_id, show_all=True):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 400)</p>
Unexpected indentation.</div>
<blockquote>
schema_str = self.get_medical_licenses(physician_id)
return self._search_schema(schema_str, show_all=show_all, AutoID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_office(self, office_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 405)</p>
Unexpected indentation.</div>
<blockquote>
schema_str = self.get_office(office_id)
return self._search_schema(schema_str, show_all=False, OfficeID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_physician_contact_log(self, physician_id, show_all=True):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 410)</p>
Unexpected indentation.</div>
<blockquote>
<p>guid = self._get_physician_guid(physician_id)
args = [&quot;CallLog&quot;, &quot;Symed&quot;, <a class="reference external" href="mailto:f'&#64;EntityGuid|{guid}|guid">f'&#64;EntityGuid|{guid}|guid</a>']
schema_str = self.API_GetData(<a href="#id47"><span class="problematic" id="id48">*</span></a>args)
return self._search_schema(schema_str, show_all=show_all, CallID__ne=-1)</p>
<div class="system-message" id="id47">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 410); <em><a href="#id48">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def show_latest_office(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 417)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM Offices&quot;
schema_str = self.API_GeneralQuery(qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, OfficeID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_practice(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 423)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM Offices WHERE OfficeID = PracticeID&quot;
schema_str = self.API_GeneralQuery(qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, OfficeID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_physician(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 429)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM PhysicianDetail&quot;
schema_str = self.API_GeneralQuery(qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, PhysicianID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_contact_log(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 435)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM ContactLog&quot;
schema_str = self.API_GeneralQuery(qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, CallID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_medical_license(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 441)</p>
Unexpected indentation.</div>
<blockquote class="last">
qs = &quot;SELECT * FROM MedicalLicenses&quot;
schema_str = self.API_GeneralQuery(qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, AutoID__ne=-1)</blockquote>
</dd>
<dt>class EchoConnection(Helpers, Adders, Editors, Deleters, Getters, Showers, BaseConnection):</dt>
<dd>pass</dd>
</dl>
<p>class OldConnection(BaseConnection):</p>
<blockquote>
<p>&quot;&quot;&quot;
Helper Methods
&quot;&quot;&quot;</p>
<dl class="docutils">
<dt>def _search_schema(self, schema_str, show_all=True, <a href="#id49"><span class="problematic" id="id50">**</span></a>kwarg):</dt>
<dd><div class="first system-message" id="id49">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 467); <em><a href="#id50">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<p>schema = XMLSchema(schema_str)
paths = schema.locate(<a href="#id51"><span class="problematic" id="id52">**</span></a>kwarg)
items = [schema.retrieve('__'.join(path.split('__')[:-1])) for path in paths]
kwarg_key = list(kwarg.keys())[0].split('__')[0]
try:</p>
<div class="system-message" id="id51">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 458); <em><a href="#id52">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 463)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>sorted_list = sorted(items, key=lambda x: int(x[kwarg_key])) if show_all else </dt>
<dd>sorted(items, key=lambda x: int(x[kwarg_key]))[-1]</dd>
</dl>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 465)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>except IndexError:  # happens when there are no results in the search</dt>
<dd>sorted_list = None</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 467)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p class="last">return sorted_list</p>
</dd>
</dl>
<p>&#64;handle_response
def _get_physician_guid(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 471)</p>
Unexpected indentation.</div>
<blockquote>
<p>qs = f&quot;SELECT * FROM PhysicianDetail WHERE PhysicianID={physician_id}&quot;
schema_str = self.client.service.API_GeneralQuery(self.session_id, qs, &quot;&quot;)
physician = self._search_schema(schema_str, show_all=False, PhysicianID__ne=-1)
if physician:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 475)</p>
Unexpected indentation.</div>
<blockquote>
return physician['EntityGuid']</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 476)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>else:</dt>
<dd>raise APICallError(f'No Physicians matching id {physician_id}')</dd>
</dl>
</blockquote>
<p>&#64;staticmethod
def _indent(elem, level=0):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 481)</p>
Unexpected indentation.</div>
<blockquote>
<p>i = f&quot;n{level*'  '}&quot;
if len(elem):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 483)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if not elem.text or not elem.text.strip():</dt>
<dd>elem.text = f&quot;{i} &quot;</dd>
<dt>if not elem.tail or not elem.tail.strip():</dt>
<dd>elem.tail = i</dd>
<dt>for elem in elem:</dt>
<dd>Connection._indent(elem, level + 1)</dd>
<dt>if not elem.tail or not elem.tail.strip():</dt>
<dd>elem.tail = i</dd>
</dl>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 491)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>else:</dt>
<dd><dl class="first last docutils">
<dt>if level and (not elem.tail or not elem.tail.strip()):</dt>
<dd>elem.tail = i</dd>
</dl>
</dd>
</dl>
</blockquote>
<p>&#64;staticmethod
def _pretty_print(schema_str, <a href="#id53"><span class="problematic" id="id54">*</span></a>keys):</p>
<div class="system-message" id="id53">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 495); <em><a href="#id54">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 497)</p>
Unexpected indentation.</div>
<blockquote>
<p>root = ET.fromstring(schema_str)
tree = ET.ElementTree(root)
Connection._indent(root)
item = root
for key in keys:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 502)</p>
Unexpected indentation.</div>
<blockquote>
item = item[key]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 503)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>print(str(ET.tostring(item), 'utf-8'))</p>
</blockquote>
<p>&quot;&quot;&quot;
Add Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def add_physician(self, office_id, <a href="#id55"><span class="problematic" id="id56">**</span></a>kwargs):</p>
<div class="system-message" id="id55">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 509); <em><a href="#id56">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 511)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [self.session_id, &quot;Locations&quot;, &quot;Provider&quot;, &quot;PhysicianDetail_Create&quot;, 5, f&quot;&#64;OfficeID|{office_id}|int&quot;]
result = self.client.service.API_TreeDataCommand(<a href="#id57"><span class="problematic" id="id58">*</span></a>args)
if &quot;Error|&quot; in result:</p>
<div class="system-message" id="id57">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 511); <em><a href="#id58">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 514)</p>
Unexpected indentation.</div>
<blockquote>
raise APICallError(result)</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 515)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<dl class="docutils">
<dt>else:</dt>
<dd><dl class="first last docutils">
<dt>if len(kwargs) != 0:</dt>
<dd><p class="first">physician_id = result.split(&quot;|&quot;)[1]
return self.edit_physician(physician_id, <a href="#id59"><span class="problematic" id="id60">**</span></a>kwargs)</p>
<div class="last system-message" id="id59">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 517); <em><a href="#id60">backlink</a></em></p>
Inline strong start-string without end-string.</div>
</dd>
<dt>else:</dt>
<dd>return result</dd>
</dl>
</dd>
</dl>
</blockquote>
<p>&#64;handle_response
def add_medical_license(self, physician_id, <a href="#id61"><span class="problematic" id="id62">**</span></a>kwargs):</p>
<div class="system-message" id="id61">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 522); <em><a href="#id62">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 524)</p>
Unexpected indentation.</div>
<blockquote>
<p>license_data = self.get_medical_licenses(physician_id)
schema_and_data = ET.fromstring(license_data)
for i, (key, value) in enumerate(kwargs.items()):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 527)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if i == 0:</dt>
<dd>new_table = ET.SubElement(schema_and_data[1], 'Table')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 529)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>new_attr = ET.SubElement(new_table, key)
new_attr.text = f'{value}'</p>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 531)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>updated_schema = ET.tostring(schema_and_data)
args = [self.session_id, &quot;Locations&quot;, &quot;Provider&quot;, &quot;MedicalLicenses&quot;, &quot;Symed&quot;,</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 533)</p>
Unexpected indentation.</div>
<blockquote>
<a class="reference external" href="mailto:f'&#64;PhysicianID|{physician_id}|int">f'&#64;PhysicianID|{physician_id}|int</a>', updated_schema]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 534)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>return self.client.service.API_UpdateData(<a href="#id63"><span class="problematic" id="id64">*</span></a>args)</p>
<div class="system-message" id="id63">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 534); <em><a href="#id64">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def add_contact_log_entry(self, physician_id, <a href="#id65"><span class="problematic" id="id66">**</span></a>kwargs):</p>
<div class="system-message" id="id65">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 536); <em><a href="#id66">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 538)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if 'Notes' not in kwargs.keys():</dt>
<dd>raise APICallError(f'You must add a note to contact log entries.')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 540)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>guid = self._get_physician_guid(physician_id)
log_data = self.get_contact_log(physician_id)
schema_and_data = ET.fromstring(log_data)
for i, (key, value) in enumerate(kwargs.items()):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 544)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if i == 0:</dt>
<dd>new_table = ET.SubElement(schema_and_data[1], 'Table')</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 546)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>new_attr = ET.SubElement(new_table, key)
new_attr.text = f'{value}'</p>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 548)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>updated_schema = ET.tostring(schema_and_data)
Connection._pretty_print(updated_schema, 1)
args = [self.session_id, &quot;Locations&quot;, &quot;Provider&quot;, &quot;CallLog&quot;, &quot;Symed&quot;,</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 551)</p>
Unexpected indentation.</div>
<blockquote>
<a class="reference external" href="mailto:f'&#64;EntityGuid|{guid}|guid">f'&#64;EntityGuid|{guid}|guid</a>', updated_schema]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 552)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>return self.client.service.API_UpdateData(<a href="#id67"><span class="problematic" id="id68">*</span></a>args)</p>
<div class="system-message" id="id67">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 552); <em><a href="#id68">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def add_office(self, practice_id=&quot;&quot;):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 556)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if not practice_id:</dt>
<dd>raise APICallError(&quot;You must provide a practice_id with which to associate this office.&quot;)</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 558)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>args = [self.session_id, &quot;Locations&quot;, &quot;Office&quot;, &quot;Offices_Create&quot;, 5, f&quot;&#64;PracticeID|{practice_id}|int&quot;]
return self.client.service.API_TreeDataCommand(<a href="#id69"><span class="problematic" id="id70">*</span></a>args)</p>
<div class="system-message" id="id69">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 558); <em><a href="#id70">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&quot;&quot;&quot;
Edit Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def edit_physician(self, physician_id, <a href="#id71"><span class="problematic" id="id72">**</span></a>kwargs):</p>
<div class="system-message" id="id71">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 565); <em><a href="#id72">backlink</a></em></p>
Inline strong start-string without end-string.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 567)</p>
Unexpected indentation.</div>
<blockquote>
<p>physician = self.get_physician(physician_id)
schema_and_data = ET.fromstring(physician)
for key, value in kwargs.items():</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 570)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if schema_and_data[1][0].find(key) is None:</dt>
<dd>new_attr = ET.SubElement(schema_and_data[1][0], key)
new_attr.text = value</dd>
<dt>else:</dt>
<dd>schema_and_data[1][0].find(key).text = f'{value}'</dd>
</dl>
</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 575)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>updated_schema = ET.tostring(schema_and_data)
args = [self.session_id, &quot;Locations&quot;, &quot;Provider&quot;, &quot;PhysicianDetail&quot;,</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 577)</p>
Unexpected indentation.</div>
<blockquote>
&quot;Symed&quot;, f&quot;&#64;PhysicianID|{physician_id}|int&quot;, updated_schema]</blockquote>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 578)</p>
Block quote ends without a blank line; unexpected unindent.</div>
<p>return self.client.service.API_UpdateData(<a href="#id73"><span class="problematic" id="id74">*</span></a>args)</p>
<div class="system-message" id="id73">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 578); <em><a href="#id74">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&quot;&quot;&quot;
Delete Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def delete_physician(self, physician_id=&quot;&quot;, office_id=&quot;&quot;):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 586)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if not (physician_id and office_id):</dt>
<dd>raise APICallError(&quot;You must specify both the physician_id and office_id.&quot;)</dd>
<dt>args = [self.session_id, &quot;Locations&quot;, &quot;Provider&quot;, &quot;PhysicianDetail_Delete&quot;, 6,</dt>
<dd>f&quot;&#64;PhysicianID|{<a class="reference external" href="mailto:physician_id}|int&#64;OfficeID|{office_id}|int">physician_id}|int&#64;OfficeID|{office_id}|int</a>&quot;]</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 590)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>return self.client.service.API_TreeDataCommand(<a href="#id75"><span class="problematic" id="id76">*</span></a>args)</p>
<div class="system-message" id="id75">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 590); <em><a href="#id76">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def delete_office(self, office_id=&quot;&quot;):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 594)</p>
Unexpected indentation.</div>
<blockquote>
<dl class="docutils">
<dt>if not office_id:</dt>
<dd>raise APICallError(&quot;You must specify the office_id.&quot;)</dd>
<dt>args = [self.session_id, &quot;Locations&quot;, &quot;Office&quot;, &quot;Offices_Delete&quot;, 6,</dt>
<dd>f&quot;&#64;OfficeID|{office_id}|int&quot;]</dd>
</dl>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 598)</p>
Definition list ends without a blank line; unexpected unindent.</div>
<p>return self.client.service.API_TreeDataCommand(<a href="#id77"><span class="problematic" id="id78">*</span></a>args)</p>
<div class="system-message" id="id77">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 598); <em><a href="#id78">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&quot;&quot;&quot;
Get Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def get_physician(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 606)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [self.session_id, &quot;PhysicianDetail&quot;, &quot;Symed&quot;, f&quot;&#64;PhysicianID|{physician_id}|int&quot;]
return self.client.service.API_GetData(<a href="#id79"><span class="problematic" id="id80">*</span></a>args)</p>
<div class="system-message" id="id79">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 606); <em><a href="#id80">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def get_office(self, office_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 611)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [self.session_id, &quot;Office&quot;, &quot;Symed&quot;, f&quot;&#64;OfficeID|{office_id}|int&quot;]
return self.client.service.API_GetData(<a href="#id81"><span class="problematic" id="id82">*</span></a>args)</p>
<div class="system-message" id="id81">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 611); <em><a href="#id82">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def get_medical_licenses(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 616)</p>
Unexpected indentation.</div>
<blockquote>
<p>args = [self.session_id, &quot;MedicalLicenses&quot;, &quot;Symed&quot;, f&quot;&#64;PhysicianID|{physician_id}|int&quot;]
return self.client.service.API_GetData(<a href="#id83"><span class="problematic" id="id84">*</span></a>args)</p>
<div class="system-message" id="id83">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 616); <em><a href="#id84">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def get_contact_log(self, physician_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 621)</p>
Unexpected indentation.</div>
<blockquote>
<p>guid = self._get_physician_guid(physician_id)
args = [self.session_id, &quot;CallLog&quot;, &quot;Symed&quot;, <a class="reference external" href="mailto:f'&#64;EntityGuid|{guid}|guid">f'&#64;EntityGuid|{guid}|guid</a>']
return self.client.service.API_GetData(<a href="#id85"><span class="problematic" id="id86">*</span></a>args)</p>
<div class="system-message" id="id85">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 621); <em><a href="#id86">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&quot;&quot;&quot;
Show Stuff
&quot;&quot;&quot;</p>
<p>&#64;handle_response
def show_physician(self, physician_id, show_all=True):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 631)</p>
Unexpected indentation.</div>
<blockquote>
schema_str = self.get_physician(physician_id)
return self._search_schema(schema_str, PhysicianID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_medical_licenses(self, physician_id, show_all=True):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 636)</p>
Unexpected indentation.</div>
<blockquote>
schema_str = self.get_medical_licenses(physician_id)
return self._search_schema(schema_str, show_all=show_all, AutoID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_office(self, office_id):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 641)</p>
Unexpected indentation.</div>
<blockquote>
schema_str = self.get_office(office_id)
return self._search_schema(schema_str, show_all=False, OfficeID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_physician_contact_log(self, physician_id, show_all=True):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 646)</p>
Unexpected indentation.</div>
<blockquote>
<p>guid = self._get_physician_guid(physician_id)
args = [self.session_id, &quot;CallLog&quot;, &quot;Symed&quot;, <a class="reference external" href="mailto:f'&#64;EntityGuid|{guid}|guid">f'&#64;EntityGuid|{guid}|guid</a>']
schema_str = self.client.service.API_GetData(<a href="#id87"><span class="problematic" id="id88">*</span></a>args)
return self._search_schema(schema_str, show_all=show_all, CallID__ne=-1)</p>
<div class="system-message" id="id87">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 646); <em><a href="#id88">backlink</a></em></p>
Inline emphasis start-string without end-string.</div>
</blockquote>
<p>&#64;handle_response
def show_latest_office(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 653)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM Offices&quot;
schema_str = self.client.service.API_GeneralQuery(self.session_id, qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, OfficeID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_practice(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 659)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM Offices WHERE OfficeID = PracticeID&quot;
schema_str = self.client.service.API_GeneralQuery(self.session_id, qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, OfficeID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_physician(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 665)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM PhysicianDetail&quot;
schema_str = self.client.service.API_GeneralQuery(self.session_id, qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, PhysicianID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_contact_log(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 671)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM ContactLog&quot;
schema_str = self.client.service.API_GeneralQuery(self.session_id, qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, CallID__ne=-1)</blockquote>
<p>&#64;handle_response
def show_latest_medical_license(self, show_all=False):</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/home/jjorissen/Projects/echo_api/echo_api/api.py</tt>, line 677)</p>
Unexpected indentation.</div>
<blockquote>
qs = &quot;SELECT * FROM MedicalLicenses&quot;
schema_str = self.client.service.API_GeneralQuery(self.session_id, qs, &quot;&quot;)
return self._search_schema(schema_str, show_all=show_all, AutoID__ne=-1)</blockquote>
</blockquote>
</div>
</body>
</html>
